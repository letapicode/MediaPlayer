FROM ubuntu:22.04

RUN apt-get update && \
    DEBIAN_FRONTEND=noninteractive apt-get install -y \
        build-essential cmake git \
        qt6-base-dev qt6-declarative-dev qt6-tools-dev qt6-multimedia-dev \
        libqt6svg6-dev \
        libavcodec-dev libavformat-dev libswresample-dev libswscale-dev \
    && rm -rf /var/lib/apt/lists/*

WORKDIR /app
COPY . /app

RUN cmake -S . -B /build -DCMAKE_BUILD_TYPE=Release && \
    cmake --build /build --parallel

CMD ["/bin/bash"]
